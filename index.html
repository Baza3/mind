<!DOCTYPE html>
<html lang="uk" class="">
<head>
  <meta charset="UTF-8">
  <title>–¢–∏–ø –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî –ù–æ–≤–∏–π —Ç–µ—Å—Ç</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-white transition duration-500">
  <div class="fixed top-0 left-0 w-full bg-white dark:bg-gray-800 shadow-md z-50 transition-all duration-300">
    <div class="flex justify-between items-center p-4 max-w-4xl mx-auto">
      <div class="flex gap-2">
        <button class="tab-btn bg-blue-600 text-white px-4 py-2 rounded hover:scale-105 transition" onclick="loadQuestions(5, event)">5 –ø–∏—Ç–∞–Ω—å</button>
        <button class="tab-btn bg-blue-600 text-white px-4 py-2 rounded hover:scale-105 transition" onclick="loadQuestions(10, event)">10 –ø–∏—Ç–∞–Ω—å</button>
      </div>
      <button class="theme-toggle border-2 border-blue-600 text-blue-600 px-4 py-2 rounded hover:bg-blue-600 hover:text-white transition" onclick="toggleTheme()">üåì –¢–µ–º–∞</button>
    </div>
  </div>

  <main class="pt-28 px-4 max-w-3xl mx-auto">
    <h1 class="text-3xl font-bold text-center mb-6">–¢–µ—Å—Ç –Ω–∞ —Ç–∏–ø –º–∏—Å–ª–µ–Ω–Ω—è</h1>
    <div id="form_div">
      <form id="quizForm" class="space-y-6"></form>
      <div class="mt-8 space-y-4">
        <input type="text" id="userName" class="w-full p-3 rounded border border-gray-300 text-black" placeholder="–í–∞—à–µ —ñ–º'—è" required>
        <input type="email" id="userEmail" class="w-full p-3 rounded border border-gray-300 text-black" placeholder="–í–∞—à email (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)">
        <button class="submit w-full bg-blue-600 text-white py-3 rounded hover:scale-105 transition" onclick="submitQuiz(event)">–ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
      </div>
    </div>
    <div id="resultContainer" style="display: flex; gap: 2rem; align-items: flex-start; justify-content: center; margin-top: 2rem;">
      <canvas id="resultChart" width="300" height="300"></canvas>
      <div style="flex: 1; min-width: 320px; max-width: 500px;">
        <div id="result" style="margin-bottom: 1rem; font-weight: bold;"></div>
        <ul id="scoreList" style="list-style: none; padding: 0; margin: 0; line-height: 1.6;"></ul>
      </div>
    </div>
  </main>

  <script>
    tailwind.config = {
      darkMode: 'class'
    };
    const savedAnswers = {};
    const quizForm = document.getElementById("quizForm");
    const descriptions = {
      "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ": "–í–∏ –æ—Ä—ñ—î–Ω—Ç—É—î—Ç–µ—Å—å –Ω–∞ –ª–æ–≥—ñ–∫—É, –∞–Ω–∞–ª—ñ–∑ —ñ —Ä–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è...",
      "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ": "–í–∞—à–∞ —Å–∏–ª–∞ ‚Äî —É—è–≤–ª–µ–Ω–Ω—è, —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —ñ–¥–µ–π...",
      "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ": "–í–∏ –¥—ñ—î–≤–∏–π(–∞) —ñ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π(–∞) –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç...",
      "–µ–º–æ—Ü—ñ–π–Ω–µ": "–í–∏ –µ–º–ø–∞—Ç—ñ–π–Ω–∏–π(–∞), –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –ª—é–¥–µ–π —ñ —ó—Ö –ø–æ—Ç—Ä–µ–±–∏...",
      "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ": "–í–∞–º –≤–∞–∂–ª–∏–≤—ñ –∫—Ä–∞—Å–∞, –≥–∞—Ä–º–æ–Ω—ñ—è –π –≤—ñ–¥—á—É—Ç—Ç—è —Å—Ç–∏–ª—é...",
      "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ": "–í–∞—à–µ –º–∏—Å–ª–µ–Ω–Ω—è –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–º—É —á—É—Ç—Ç—ñ...",
      "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ": "–í–∏ –±–∞—á–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω—É –∑–∞–≥–∞–ª–æ–º, –º–∏—Å–ª–∏—Ç–µ –º–∞—Å—à—Ç–∞–±–Ω–æ..."
    };

    function toggleTheme() {
      const html = document.documentElement;
      const isDark = html.classList.toggle('dark'); // –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç –∫–ª–∞—Å—Å 'dark'
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–º–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    (function() {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    })();

    const allQuestions = [
  { text: "–Ø–∫–µ –∑–∞–≤–¥–∞–Ω–Ω—è –∑–¥–∞—î—Ç—å—Å—è –≤–∞–º –Ω–∞–π—Ü—ñ–∫–∞–≤—ñ—à–∏–º?", options: [
    { text: "–õ–æ–≥—ñ—á–Ω–∞ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–ú–∞–ª—é–Ω–æ–∫ —á–∏ –º—É–∑–∏–∫–∞", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü–æ–ª–∞–≥–æ–¥–∏—Ç–∏ —â–æ—Å—å —Ä—É–∫–∞–º–∏", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ó–∞—Å–ø–æ–∫–æ—ó—Ç–∏ –¥—Ä—É–≥–∞", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–î–∏–∑–∞–π–Ω –ø—Ä–æ—Å—Ç–æ—Ä—É", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–ü—Ä–∏—Å–ª—É—Ö–∞—Ç–∏—Å—å –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –≥–æ–ª–æ—Å—É", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–†–æ–∑—Ä–æ–±–∏—Ç–∏ –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–©–æ –≤–∏ —Ä–æ–±–∏—Ç–µ —É –≤—ñ–ª—å–Ω–∏–π —á–∞—Å?", options: [
    { text: "–ß–∏—Ç–∞—é –Ω–∞—É–∫–æ–≤—É —Å—Ç–∞—Ç—Ç—é", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–ú–∞–ª—é—é —á–∏ –ø–∏—à—É –≤—ñ—Ä—à—ñ", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–©–æ—Å—å –ª–∞–≥–æ–¥–∂—É –∞–±–æ –ø—Ä–∏–±–∏—Ä–∞—é", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ì–æ–≤–æ—Ä—é –∑ –¥—Ä—É–∑—è–º–∏", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–ù–∞—Å–æ–ª–æ–¥–∂—É—é—Å—å –∫—Ä–∞—Å–æ—é –ø—Ä–∏—Ä–æ–¥–∏", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–ú–µ–¥–∏—Ç—É—é", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–°–∫–ª–∞–¥–∞—é –ø–ª–∞–Ω–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–Ø–∫–∏–π –≤–∞—à —É–ª—é–±–ª–µ–Ω–∏–π —Å–ø–æ—Å—ñ–± –Ω–∞–≤—á–∞–Ω–Ω—è?", options: [
    { text: "–ß–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∞–Ω–∞–ª—ñ–∑", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–≤–æ—Ä—á–∏—Ö –º–µ—Ç–æ–¥—ñ–≤", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –≤–ø—Ä–∞–≤–∏", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–û–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–í—ñ–∑—É–∞–ª—å–Ω—ñ –æ–±—Ä–∞–∑–∏", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–í–Ω—É—Ç—Ä—ñ—à–Ω—î —á—É—Ç—Ç—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–©–æ –≤–∞—Å –º–æ—Ç–∏–≤—É—î –Ω–∞–π–±—ñ–ª—å—à–µ?", options: [
    { text: "–õ–æ–≥—ñ–∫–∞ —ñ —Ä—ñ—à–µ–Ω–Ω—è", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–¢–≤–æ—Ä—á—ñ—Å—Ç—å —ñ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ó–≤‚Äô—è–∑–æ–∫ —ñ–∑ –ª—é–¥—å–º–∏", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–ö—Ä–∞—Å–∞ —ñ –≥–∞—Ä–º–æ–Ω—ñ—è", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–í–Ω—É—Ç—Ä—ñ—à–Ω—è —ñ–Ω—Ç—É—ó—Ü—ñ—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–Ø–∫ –≤–∏ –ø—Ä–∏–π–º–∞—î—Ç–µ —Ä—ñ—à–µ–Ω–Ω—è?", options: [
    { text: "–ù–∞ –æ—Å–Ω–æ–≤—ñ –ª–æ–≥—ñ–∫–∏", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –µ–º–æ—Ü—ñ–π", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω–æ", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ú–∏—Å—Ç–µ—Ü—å–∫–∏", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
    { text: "–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
  ]},
  { text: "–©–æ –≤–∞—Å –Ω–∞–π–±—ñ–ª—å—à–µ –∑–∞—Ö–æ–ø–ª—é—î?", options: [
    { text: "–ù–∞—É–∫–∞ —ñ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–ú–∏—Å—Ç–µ—Ü—Ç–≤–æ —ñ –∫—É–ª—å—Ç—É—Ä–∞", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–†—É—Ö —ñ —Å–ø–æ—Ä—Ç", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è —Ç–∞ –µ–º–æ—Ü—ñ—ó", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–Ü–¥–µ—ó —ñ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
    { text: "–í–Ω—É—Ç—Ä—ñ—à–Ω—è –≥–∞—Ä–º–æ–Ω—ñ—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
  ]},
  { text: "–Ø–∫–∏–π –≤–∞—à —É–ª—é–±–ª–µ–Ω–∏–π —Å—Ç–∏–ª—å —Ä–æ–±–æ—Ç–∏?", options: [
    { text: "–õ–æ–≥—ñ—á–Ω–∏–π", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–¢–≤–æ—Ä—á–∏–π", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ï–º–æ—Ü—ñ–π–Ω–∏–π", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–í—ñ–∑—É–∞–ª—å–Ω–∏–π", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–∏–π", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–©–æ –≤–∏ —Ü—ñ–Ω—É—î—Ç–µ –Ω–∞–π–±—ñ–ª—å—à–µ —É –∂–∏—Ç—Ç—ñ?", options: [
    { text: "–ó–Ω–∞–Ω–Ω—è —ñ –ª–æ–≥—ñ–∫–∞", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–ú–∏—Å—Ç–µ—Ü—Ç–≤–æ —ñ –∫—Ä–∞—Å–∞", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ—Å—Ç—å", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ï–º–æ—Ü—ñ–π–Ω–∏–π –∑–≤‚Äô—è–∑–æ–∫", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–Ü–¥–µ—ó —Ç–∞ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
    { text: "–í–Ω—É—Ç—Ä—ñ—à–Ω—è –≥–∞—Ä–º–æ–Ω—ñ—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
  ]},
  { text: "–Ø–∫ –≤–∏ –∑–∞–∑–≤–∏—á–∞–π –Ω–∞–≤—á–∞—î—Ç–µ—Å—å?", options: [
    { text: "–ß–µ—Ä–µ–∑ —á–∏—Ç–∞–Ω–Ω—è", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–ß–µ—Ä–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω–∏–º –¥–æ—Å–≤—ñ–¥–æ–º", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–û–±–≥–æ–≤–æ—Ä—é—é—á–∏ –∑ —ñ–Ω—à–∏–º–∏", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–í—ñ–∑—É–∞–ª—å–Ω–æ", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–©–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–ª–∏–≤—ñ—à–µ?", options: [
    { text: "–õ–æ–≥—ñ–∫–∞", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–¢–≤–æ—Ä—á—ñ—Å—Ç—å", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–†–µ–∑—É–ª—å—Ç–∞—Ç", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–ï–º–æ—Ü—ñ—ó", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
    { text: "–ì–∞—Ä–º–æ–Ω—ñ—è", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
    { text: "–Ü–Ω—Ç—É—ó—Ü—ñ—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
    { text: "–°—Ç—Ä–∞—Ç–µ–≥—ñ—è", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
  ]},
  { text: "–Ø–∫–∏–π –≤–∞—à –ø—ñ–¥—Ö—ñ–¥ –¥–æ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º?", options: [
    { text: "–ê–Ω–∞–ª—ñ–∑ —ñ –ª–æ–≥—ñ–∫–∞", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
    { text: "–¢–≤–æ—Ä—á–∏–π –ø–æ—à—É–∫", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
    { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
    { text: "–í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –≤—ñ–¥—á—É—Ç—Ç—è", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤"}
  ]}];

    for (let i = allQuestions.length; i < 20; i++) {
      allQuestions.push({
        text: `–ó–∞–ø–∏—Ç–∞–Ω–Ω—è ‚Ññ${i + 1}: –Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –≤–∞–º –±–ª–∏–∂—á–∏–π?`,
        options: [
          { text: "–õ–æ–≥—ñ—á–Ω–∏–π –≤–∏–±—ñ—Ä", type: "–∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ" },
          { text: "–ö—Ä–µ–∞—Ç–∏–≤–Ω–µ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è", type: "–∫—Ä–µ–∞—Ç–∏–≤–Ω–µ" },
          { text: "–ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥", type: "–ø—Ä–∞–∫—Ç–∏—á–Ω–µ" },
          { text: "–°–ø—ñ–≤–ø–µ—Ä–µ–∂–∏–≤–∞–Ω–Ω—è —ñ–Ω—à–∏–º", type: "–µ–º–æ—Ü—ñ–π–Ω–µ" },
          { text: "–ì–∞—Ä–º–æ–Ω—ñ—è —ñ –∫—Ä–∞—Å–∞", type: "–µ—Å—Ç–µ—Ç–∏—á–Ω–µ" },
          { text: "–°–ª—É—Ö–∞—é —Å–µ–±–µ", type: "—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–µ" },
          { text: "–ú–∏—Å–ª—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ", type: "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–µ" },
        ]
      });
    }

    function loadQuestions(count, event) {
      quizForm.innerHTML = "";
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('scale-105'));
      if (event) event.target.classList.add('scale-105');

      for (let i = 0; i < count; i++) {
        const q = allQuestions[i];
        const div = document.createElement("div");
        div.className = "bg-white dark:bg-gray-800 p-5 rounded shadow";
        div.innerHTML = `<strong class='block mb-2'>${i + 1}. ${q.text}</strong>`;
        q.options.forEach((opt, j) => {
          const id = `q${i}`;
          const isChecked = savedAnswers[id] === opt.type;
          div.innerHTML += `
            <label class="block py-1"><input type="radio" name="${id}" value="${opt.type}" ${isChecked ? "checked" : ""} class="mr-2">${opt.text}</label>
          `;
        });
        quizForm.appendChild(div);
      }

      quizForm.querySelectorAll("input[type=radio]").forEach(input => {
        input.addEventListener("change", e => {
          savedAnswers[e.target.name] = e.target.value;
        });
      });
    }

    function renderChart(typeCounts) {
      const ctx = document.getElementById('resultChart').getContext('2d');
      const labels = Object.keys(typeCounts);
      const data = Object.values(typeCounts);

      new Chart(ctx, {
        type: 'pie',
        data: {
          labels: labels,
          datasets: [{
            label: '–¢–∏–ø –º–∏—Å–ª–µ–Ω–Ω—è',
            data: data,
            backgroundColor: [
              '#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#14B8A6', '#F472B6'
            ],
            borderWidth: 1,
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom'
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const total = context.dataset.data.reduce((a, b) => a + b, 0);
                  const value = context.raw;
                  const percent = ((value / total) * 100).toFixed(1);
                  return `${context.label}: ${value} (${percent}%)`;
                }
              }
            }
          }
        }
      });
    }

    async function submitQuiz(event) {
      event.preventDefault();

      const userName = document.getElementById("userName").value.trim();
      if (!userName) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è.");
        return;
      }

      // –°–æ–±–∏—Ä–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
      const selectedAnswers = {};
      let unanswered = [];

      for (let i = 0; i < quizForm.children.length; i++) {
        const questionDiv = quizForm.children[i];
        const inputs = questionDiv.querySelectorAll("input[type='radio']");
        let answered = false;
        inputs.forEach(input => {
          if (input.checked) {
            selectedAnswers[i] = input.value;
            answered = true;
          }
        });
        if (!answered) {
          unanswered.push(i + 1); // –≤–æ–ø—Ä–æ—Å—ã –Ω—É–º–µ—Ä—É–µ–º —Å 1
        }
      }

      if (unanswered.length > 0) {
        alert(`–í–∏ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–ª–∏ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è: ${unanswered.join(", ")}. –ë—É–¥—å –ª–∞—Å–∫–∞, –¥–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –≤—Å—ñ –ø–∏—Ç–∞–Ω–Ω—è.`);
        return;
      }

      // –ï—Å–ª–∏ –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –µ—Å—Ç—å, —Å—á–∏—Ç–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      const scores = {};
      for (const key in selectedAnswers) {
        const type = selectedAnswers[key];
        scores[type] = (scores[type] || 0) + 1;
      }

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –∏ –±—ã–ª–æ —É –≤–∞—Å)
      showResult(scores);


      let maxType = null;
      let maxScore = 0;
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          maxType = type;
        }
      }

      name = document.getElementById("userName").value
      email = document.getElementById("userEmail").value
      result = maxType.charAt(0).toUpperCase() + maxType.slice(1) + " –º–∏—Å–ª–µ–Ω–Ω—è"


      const data = {
        name,
        email,
        result
      }

      try {
        const response = await fetch('notify.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
      });

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π
      if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
      }

                            // –ü—Ä–æ–±—É–µ–º —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç –∫–∞–∫ JSON
                            const result = await response.json().catch((error) => {
                                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –æ—Ç–≤–µ—Ç–∞:', error);
                                throw new Error('–û—Ç–≤–µ—Ç –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON');
                            });

                            if (result.success) {
                              return
                            } else {
                                throw new Error(result.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏');
                            }
                        } catch (error) {
                            console.error('–û—à–∏–±–∫–∞');
                        }
    }

function showResult(scores) {
  // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Äî –Ω–µ –º–µ–Ω—è–ª
  const resultContainer = document.getElementById("resultContainer");
  const resultDiv = document.getElementById("result");
  const scoreList = document.getElementById("scoreList");
  const ctx = document.getElementById("resultChart").getContext("2d");

  // –û—á–∏—Å—Ç–∏–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  scoreList.innerHTML = "";
  resultDiv.textContent = "";

  // –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–∏–ø –º—ã—à–ª–µ–Ω–∏—è
  let maxType = null;
  let maxScore = 0;
  for (const [type, score] of Object.entries(scores)) {
    if (score > maxScore) {
      maxScore = score;
      maxType = type;
    }
  }

  // –í—ã–≤–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
  if (maxType) {
    resultDiv.textContent = `–í–∞—à —Ç–∏–ø –º–∏—Å–ª–µ–Ω–Ω—è: ${maxType.charAt(0).toUpperCase() + maxType.slice(1)}. ${descriptions[maxType] || ""}`;
  }

  // –í—ã–≤–æ–¥–∏–º –ø–æ–¥—Ä–æ–±–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ—á–∫–æ–≤
  for (const [type, score] of Object.entries(scores)) {
    const li = document.createElement("li");
    li.textContent = `${type.charAt(0).toUpperCase() + type.slice(1)}: ${score}`;
    scoreList.appendChild(li);
  }

  // –°—Ç—Ä–æ–∏–º –¥–∏–∞–≥—Ä–∞–º–º—É
  if (window.myChart) window.myChart.destroy();
  window.myChart = new Chart(ctx, {
    type: "doughnut",
    data: {
      labels: Object.keys(scores).map(t => t.charAt(0).toUpperCase() + t.slice(1)),
      datasets: [{
        data: Object.values(scores),
        backgroundColor: [
          "#3B82F6", "#F59E0B", "#10B981", "#EF4444", "#8B5CF6", "#F43F5E", "#6366F1"
        ],
      }]
    },
    options: {
      responsive: false,
      plugins: {
        legend: { position: "bottom" }
      }
    }
  });

  resultContainer.style.display = "flex";
  document.getElementById("form_div").style.display = "none";
}

      // –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ç–µ–º—É
      window.addEventListener('DOMContentLoaded', () => {
        if (localStorage.getItem('theme') === 'dark') {
          document.documentElement.classList.add('dark');
        }
      });

    loadQuestions(5);
  </script>
</body>
</html>